# CategoryScreen åˆ†é¡µåŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹

## ğŸ¯ æ–°å¢å‚æ•°è¯´æ˜

CategoryScreen ç»„ä»¶ç°åœ¨æ”¯æŒé€šè¿‡å‚æ•°ä¼ é€’åˆ†é¡µçŠ¶æ€ï¼Œæ— éœ€ä½¿ç”¨å…¨å±€çŠ¶æ€ç®¡ç†ã€‚

### æ–°å¢å‚æ•°ï¼š

```javascript
<CategoryScreen 
  // åŸæœ‰å‚æ•°...
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
  
  // æ–°å¢åˆ†é¡µå‚æ•°
  initialPage={5}                    // åˆå§‹é¡µé¢ï¼Œé»˜è®¤ä¸º1
  itemsPerPage={100}                 // æ¯é¡µæ•°é‡ï¼Œé»˜è®¤ä¸º50
  onPageChange={(pageInfo) => {      // é¡µé¢å˜åŒ–å›è°ƒ
    console.log('é¡µé¢å˜åŒ–:', pageInfo);
  }}
/>
```

## ğŸ“‹ å‚æ•°è¯¦æƒ…

### `initialPage` (number, å¯é€‰)
- **é»˜è®¤å€¼**: `1`
- **è¯´æ˜**: ç»„ä»¶åˆå§‹åŒ–æ—¶æ˜¾ç¤ºçš„é¡µé¢
- **ç¤ºä¾‹**: `initialPage={5}` - åˆå§‹æ˜¾ç¤ºç¬¬5é¡µ

### `itemsPerPage` (number, å¯é€‰)
- **é»˜è®¤å€¼**: `50`
- **è¯´æ˜**: æ¯é¡µæ˜¾ç¤ºçš„å›¾ç‰‡æ•°é‡
- **å¯é€‰å€¼**: `20`, `50`, `100`
- **ç¤ºä¾‹**: `itemsPerPage={100}` - æ¯é¡µæ˜¾ç¤º100å¼ å›¾ç‰‡

### `onPageChange` (function, å¯é€‰)
- **é»˜è®¤å€¼**: `null`
- **è¯´æ˜**: å½“é¡µé¢æˆ–æ¯é¡µæ•°é‡å‘ç”Ÿå˜åŒ–æ—¶çš„å›è°ƒå‡½æ•°
- **å‚æ•°**: `pageInfo` å¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š
  ```javascript
  {
    currentPage: 3,        // å½“å‰é¡µç 
    itemsPerPage: 50,      // æ¯é¡µæ•°é‡
    totalPages: 772,       // æ€»é¡µæ•°
    category: "document",  // åˆ†ç±»
    city: "åŒ—äº¬"           // åŸå¸‚
  }
  ```

## ğŸš€ ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯1: åŸºæœ¬ä½¿ç”¨ï¼ˆä½¿ç”¨é»˜è®¤å€¼ï¼‰
```javascript
<CategoryScreen 
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
/>
// é»˜è®¤æ˜¾ç¤ºç¬¬1é¡µï¼Œæ¯é¡µ50å¼ å›¾ç‰‡
```

### åœºæ™¯2: æŒ‡å®šåˆå§‹é¡µé¢
```javascript
<CategoryScreen 
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
  initialPage={10}
/>
// åˆå§‹æ˜¾ç¤ºç¬¬10é¡µ
```

### åœºæ™¯3: è‡ªå®šä¹‰æ¯é¡µæ•°é‡
```javascript
<CategoryScreen 
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
  itemsPerPage={100}
/>
// æ¯é¡µæ˜¾ç¤º100å¼ å›¾ç‰‡
```

### åœºæ™¯4: ç›‘å¬é¡µé¢å˜åŒ–ï¼ˆç”¨äºçŠ¶æ€æŒä¹…åŒ–ï¼‰
```javascript
const [pageState, setPageState] = useState({
  currentPage: 1,
  itemsPerPage: 50,
  category: "document"
});

const handlePageChange = (pageInfo) => {
  setPageState({
    currentPage: pageInfo.currentPage,
    itemsPerPage: pageInfo.itemsPerPage,
    category: pageInfo.category
  });
  
  // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
  localStorage.setItem('categoryPageState', JSON.stringify(pageState));
};

<CategoryScreen 
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
  initialPage={pageState.currentPage}
  itemsPerPage={pageState.itemsPerPage}
  onPageChange={handlePageChange}
/>
```

### åœºæ™¯5: ä»URLå‚æ•°æ¢å¤é¡µé¢çŠ¶æ€
```javascript
const urlParams = new URLSearchParams(window.location.search);
const pageFromUrl = parseInt(urlParams.get('page')) || 1;
const itemsFromUrl = parseInt(urlParams.get('items')) || 50;

<CategoryScreen 
  category="document"
  city="åŒ—äº¬"
  onBack={() => {}}
  initialPage={pageFromUrl}
  itemsPerPage={itemsFromUrl}
  onPageChange={(pageInfo) => {
    // æ›´æ–°URLå‚æ•°
    const newUrl = new URL(window.location);
    newUrl.searchParams.set('page', pageInfo.currentPage);
    newUrl.searchParams.set('items', pageInfo.itemsPerPage);
    window.history.replaceState({}, '', newUrl);
  }}
/>
```

## ğŸ”„ çŠ¶æ€ç®¡ç†å»ºè®®

### æ–¹æ¡ˆ1: ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼ˆç®€å•åœºæ™¯ï¼‰
```javascript
// é€‚ç”¨äºç®€å•çš„é¡µé¢è·³è½¬ï¼Œä¸éœ€è¦æŒä¹…åŒ–
<CategoryScreen 
  category="document"
  onBack={() => {}}
  initialPage={1}
/>
```

### æ–¹æ¡ˆ2: çˆ¶ç»„ä»¶çŠ¶æ€ï¼ˆä¸­ç­‰å¤æ‚åº¦ï¼‰
```javascript
const ParentComponent = () => {
  const [pageState, setPageState] = useState({
    currentPage: 1,
    itemsPerPage: 50
  });

  return (
    <CategoryScreen 
      category="document"
      onBack={() => {}}
      initialPage={pageState.currentPage}
      itemsPerPage={pageState.itemsPerPage}
      onPageChange={(pageInfo) => {
        setPageState({
          currentPage: pageInfo.currentPage,
          itemsPerPage: pageInfo.itemsPerPage
        });
      }}
    />
  );
};
```

### æ–¹æ¡ˆ3: å…¨å±€çŠ¶æ€ç®¡ç†ï¼ˆå¤æ‚åº”ç”¨ï¼‰
```javascript
// ä½¿ç”¨ Redux/Zustand ç­‰çŠ¶æ€ç®¡ç†åº“
const usePageStore = create((set) => ({
  pageState: {},
  setPageState: (category, pageInfo) => set((state) => ({
    pageState: {
      ...state.pageState,
      [category]: pageInfo
    }
  }))
}));

const CategoryScreenWrapper = ({ category }) => {
  const { pageState, setPageState } = usePageStore();
  const currentPageState = pageState[category] || { currentPage: 1, itemsPerPage: 50 };

  return (
    <CategoryScreen 
      category={category}
      onBack={() => {}}
      initialPage={currentPageState.currentPage}
      itemsPerPage={currentPageState.itemsPerPage}
      onPageChange={(pageInfo) => setPageState(category, pageInfo)}
    />
  );
};
```

## âœ… ä¼˜åŠ¿

1. **çµæ´»æ€§**: æ”¯æŒå¤–éƒ¨æ§åˆ¶åˆ†é¡µçŠ¶æ€
2. **å¯å¤ç”¨**: åŒä¸€ä¸ªç»„ä»¶å¯ä»¥æœ‰ä¸åŒçš„åˆ†é¡µé…ç½®
3. **çŠ¶æ€æŒä¹…åŒ–**: é€šè¿‡å›è°ƒå‡½æ•°å¯ä»¥å®ç°çŠ¶æ€ä¿å­˜
4. **URLåŒæ­¥**: å¯ä»¥è½»æ¾å®ç°URLå‚æ•°åŒæ­¥
5. **å‘åå…¼å®¹**: æ‰€æœ‰æ–°å‚æ•°éƒ½æ˜¯å¯é€‰çš„ï¼Œä¸å½±å“ç°æœ‰ä»£ç 

## ğŸ‰ æ€»ç»“

é€šè¿‡å‚æ•°ä¼ é€’åˆ†é¡µçŠ¶æ€ï¼ŒCategoryScreen ç»„ä»¶å˜å¾—æ›´åŠ çµæ´»å’Œå¯æ§åˆ¶ï¼ŒåŒæ—¶ä¿æŒäº†å‘åå…¼å®¹æ€§ã€‚ä½ å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„æ–¹æ¡ˆæ¥ç®¡ç†åˆ†é¡µçŠ¶æ€ã€‚
